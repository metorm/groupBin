{% extends "base.html" %}

{% block title %}小组不存在 - {{ config.SITE_NAME }}{% endblock %}

{% block content %}

<div class="error-container">
    <h1 class="display-1">404</h1>
    <h2>小组不存在或已过期</h2>
    <p class="lead">您访问的小组链接可能已过期、被删除，或不存在。</p>
    <div class="mt-4">
        <a href="{{ url_for('main.index') }}" class="btn btn-primary btn-lg">返回主页</a>
        <a href="{{ url_for('group.create') }}" class="btn btn-secondary btn-lg ms-2">创建新小组</a>
    </div>
</div>

<script src="{{ url_for('static', filename='js/historyManager.js') }}"></script>
<script>
    // 从URL获取小组ID并从历史记录中移除
    document.addEventListener('DOMContentLoaded', function () {
        const pathParts = window.location.pathname.split('/');
        if (pathParts[1] === 'group' && pathParts[2]) {
            const groupId = pathParts[2];
            GroupHistoryManager.handleGroupError(groupId);
        }
    });
</script>
{% endblock %}